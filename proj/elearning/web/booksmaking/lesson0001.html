<P><FONT face=宋体><FONT size=4>1．需求（Requirements）<BR></FONT>典型地，由系统最终用户的代表写出文本形式的需求规范文档。对于该图书馆应用程序来说，需求规范文档应该类似于这样：<BR><BR>1. 这是一个图书馆支持系统；<BR>2. 图书馆将图书和杂志借给借书者。借书者已经预先注册，图书和杂志也预先注册；<BR>3. 图书馆负责新书的购买。每一本图书都购进多本书。当旧书超期或破旧不堪时，从图书馆中去掉。<BR>4. 图书管理员是图书馆的员工。他们的工作就是和读者打交道并在软件系统的支持下工作。<BR>5. 借阅人可以预定当前没有的图书和杂志。这样，当他所预定的图书和杂志归还回来或购进时，就通知预定人。当预定了某书的借书者借阅了该书后，预定就取消。或者通过显式的取消过程强行取消预定。<BR>6. 图书馆能够容易地建立、修改和删除标题、借书者、借阅信息和预定信息。<BR>7. 系统能够运行在所有流行的技术环境中，包括Unix, Windows和OS/2，并应有一个现代的图形用户界面 (GUI)。<BR>8. 系统容易扩展新功能。<BR>系统的第一版不必考虑预定的图书到达后通知预定人的功能，也不必检查借书过期的情况。<BR><BR><FONT size=4>2．分析（Analysis）</FONT><BR>系统分析的目的是捕获和描述所有的系统需求，并且建立一个模型来定义系统中主要的域类。通过系统分析达到开发者和需求者的理解和沟通。因此，分析一般都是分析员和用户协作的产物。<BR>在这个阶段，程序开发者不应该考虑代码或程序的问题；它只是理解需求和实现系统的第一步。<BR><BR><FONT size=3>2．1需求分析（Requirements Analysis）</FONT><BR>分析的第一步是确定系统能够做什么？谁来使用这个系统？这些分别叫角色（actors）和用例（use cases）。用例描述了系统提供什么样的功能。通过阅读和分析文档，以及和潜在的用户讨论系统来分析用例。<BR><BR>图书馆的角色定为图书管理员和借书人。图书管理员是软件系统的用户；而借书者则是来借阅或预定图书杂志的客户。偶尔，图书管理员或图书馆的其他工作人员也可能是一个借书者。借书者不直接和系统交互，借书人的功能由图书管理员代为执行。<BR><BR>图书馆系统中的用例有：<BR><BR>1. 借书<BR>2. 还书<BR>3. 预定<BR>4. 取消预定<BR>5. 增加标题<BR>6. 修改或删除标题<BR>7. 增加书目<BR>8. 删除书目<BR>9. 增加借书者<BR>10. 修改或删除借书者<BR><BR>由于一本书通常有多个备份，因此系统必须将书的标题和书目的概念区分开。<BR><BR>图书馆系统分析的结果写在UML 用例图中，如图1所示。每一个用例都附带有文本文档，描述用例和客户交互的细节。文本是通过与客户讨论得到的。用例“借书”描述如下：<BR><BR>1．如果借阅者没有预定：<BR><BR>确定标题<BR>确定该标题下有效的书目<BR>确定借书者<BR>图书馆将书借出<BR>登记一个新的借阅<BR><BR>2．如果借阅者有预定：<BR><BR>确定借书人<BR>确定标题<BR>确定该标题下有效的书目<BR>图书馆将相应的书目借出<BR>登记一个新的借阅<BR>取消预定<BR><BR>除了定义系统的功能需求之外，在分析过程中用例用于检查是否有相应的域类已经被定义，然后他们可以被用在设计阶段，确保解决方案可以有效地处理系统功能。可以在顺序图中可视化实现细节。<BR><BR><IMG src="file:///D:/Books/中文java技术网用UML设计Java应用程序.files/news_content.files/umljav2.gif"><BR>图1：角色和用例。分析中的第一步就是指出系统能被用来做什么，谁将去使用它。它们分别就是用例和角色。所有的用例必须始于角色，而且有些用例也结束于角色。角色是位于你所工作的系统外部的人或其他系统。一台打印机或一个数据库都可能是一个角色。本系统有两个角色：借阅者和图书管理员。通过与用户或客户的讨论，可以将每一个用例用文字进行说明。 <BR><BR><FONT size=3>2．2域分析（Domain Analysis）</FONT><BR><BR>系统分析也详细地列出了域（系统中的关键类）。为了导出一个域分析，可以阅读规范文档（specifications）和用例，查找哪一些概念应该被系统处理。或者组织一个集体讨论，在用户及领域专家共同的参与下指出系统中必须处理的关键概念，以及它们之间的关系。<BR><BR>图书馆系统中的域类如下：borrowerinformation（如此命名是为了与用例图中的角色borrower区分开来），title，book title, magazine title, item, reservation和loan。这些类以及它们之间的关系记录在类图文档中，如图2所示。域类定义为Business object版型，Business object版型是一个用户自定义的版型，指定该类的对象是关键域的一部分，并且应该在系统中持久存储。<BR><BR>其中有些类有UML状态图，用来显示这些类的对象可能具有的不同状态，以及触发他们的状态发生改变的事件。该例子中有状态图的类是item 和title类。<BR>用例lend item（借阅者没有预定的情况）的顺序图显示在图3中。所有用例的顺序图都可从在线模型中查到。<BR><BR><IMG src="file:///D:/Books/中文java技术网用UML设计Java应用程序.files/news_content.files/umljav3.gif"><BR>图2：域类结构。域分析详细说明了系统中的关键类。对每一个对象而言，如果它调用了其他对象的方法，那么在他们之间就用一条直线连结起来，以显示他们之间的关系。每一个代表类的四边形被分成了三部分，最顶层包括类的名称，中间一层是类的属性，最底层是类的方法。类之间的直线是关联，用来指出一个对象调用另一个对象的方法。如果再仔细看，将会发现在Loan和Item之间的关联关系中靠近Loan的一端有“0..1”,这代表关联的重数。重数“0..1表示Item可以感知0个到1个loan。其他可能出现的重数还有：“0..*”表示0或多；“1”表示就是1；“0”表示就是0，“1..*”表示1或多。 <BR>当对顺序图建模时，必须提供窗体和对话框作为人机交互的界面。在本分析当中，只要知道借书、预定和还<BR>书需要窗体就可以了。在此，详细的界面不必考虑。为了把系统中的窗体类和域类分开，所有的窗体类组织在一起放在GUI Package包中。域类组织在一起放在Business Package包中。</FONT><BR></P>